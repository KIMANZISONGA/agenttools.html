<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KIMANZI Agent Tools</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css" />
  <style>
    body { padding: 2rem; }
    section { margin-bottom: 3rem; }
    .centered {
      max-width: 400px;
      margin: 5rem auto;
    }
  </style>
</head>
<body>

  <!-- Wachtwoordscherm -->
  <main class="container centered" id="loginSection">
    <h1>ğŸ”’ KIMANZI Agent Tools</h1>
    <p>Deze omgeving is alleen voor KIMANZI agents.</p>
    <form onsubmit="checkPassword(event)">
      <label for="password">
        Wachtwoord
        <input type="password" id="password" required autocomplete="current-password">
      </label>
      <button type="submit">Inloggen</button>
      <small id="loginError" style="color: var(--del-color, #e00);"></small>
    </form>
  </main>

  <!-- Beschermde inhoud -->
  <main class="container" id="protectedContent" style="display: none;">
    <h1>ğŸ‘¤ KIMANZI Agent Tools</h1>
    <p>This dashboard is for internal use only.</p>

    <!-- Confirmation -->
    <section>
      <h2>ğŸ“¨ Send confirmation email</h2>
      <form onsubmit="openConfirmationEmail(); return false;">
        <input type="email" id="emailConfirmation" placeholder="Agent's email address" required>
        <button type="submit">Open mail client</button>
      </form>
    </section>

    <!-- Onboarding -->
    <section>
      <h2>ğŸš€ Send onboarding email</h2>
      <form onsubmit="openOnboardingEmail(); return false;">
        <input type="email" id="emailOnboarding" placeholder="Agent's email address" required>
        <button type="submit">Open mail client</button>
      </form>
    </section>

    <!-- Agreement -->
    <section>
      <h2>âœï¸ Send agreement</h2>
      <form onsubmit="openAgreementEmail(); return false;">
        <input type="email" id="emailAgreement" placeholder="Agent's email address" required>
        <button type="submit">Open mail client</button>
      </form>
    </section>

    <!-- Intake reminder -->
    <section>
      <h2>ğŸ”” Send intake reminder</h2>
      <form onsubmit="openReminderEmail(); return false;">
        <input type="email" id="emailReminder" placeholder="Agent's email address" required>
        <button type="submit">Open mail client</button>
      </form>
    </section>
  </main>

  <script>
    // >>> VERVANG DIT DOOR JE EIGEN WACHTWOORD <<<
    const DASHBOARD_PASSWORD = "kimanzi-agents-only";

    function checkPassword(event) {
      event.preventDefault();
      const input = document.getElementById('password').value.trim();
      const error = document.getElementById('loginError');

      if (input === DASHBOARD_PASSWORD) {
        // Login ok: verberg login, toon dashboard
        document.getElementById('loginSection').style.display = 'none';
        document.getElementById('protectedContent').style.display = 'block';
      } else {
        error.textContent = "Onjuist wachtwoord.";
      }
    }

    function openConfirmationEmail() {
      const email = document.getElementById('emailConfirmation').value;
      const subject = encodeURIComponent("Confirmation of your KIMANZI application");
      const body = encodeURIComponent(
        "Hi,\n\nThank you for your application to become a KIMANZI agent.\n" +
        "We will personally follow up with you shortly.\n\nBest regards,\nThe KIMANZI team"
      );
      window.location.href = `mailto:${email}?subject=${subject}&body=${body}`;
    }

    function openOnboardingEmail() {
      const email = document.getElementById('emailOnboarding').value;
      const subject = encodeURIComponent("Welcome to KIMANZI â€” onboarding");
      const body = encodeURIComponent(
        "Hi,\n\nWelcome to KIMANZI!\n" +
        "Please find the onboarding document attached. If you have any questions, feel free to reach out.\n\n" +
        "Looking forward to working with you.\n\nBest regards,\nThe KIMANZI team"
      );
      window.location.href = `mailto:${email}?subject=${subject}&body=${body}`;
    }

    function openAgreementEmail() {
      const email = document.getElementById('emailAgreement').value;
      const subject = encodeURIComponent("KIMANZI Collaboration Agreement");
      const body = encodeURIComponent(
        "Hi,\n\nBelow is the link to your agreement as an agent for KIMANZI.\n" +
        "Please review it carefully and let us know once you agree.\n\n" +
        "ğŸ”— https://drive.proton.me/urls/placeholder-link\n\nBest regards,\nThe KIMANZI team"
      );
      window.location.href = `mailto:${email}?subject=${subject}&body=${body}`;
    }

    function openReminderEmail() {
      const email = document.getElementById('emailReminder').value;
      const subject = encodeURIComponent("Reminder following your intake");
      const body = encodeURIComponent(
        "Hi,\n\nJust a quick reminder following our intake conversation.\n" +
        "If you have any questions or still need to complete any steps, feel free to get in touch.\n\n" +
        "Best regards,\nThe KIMANZI team"
      );
      window.location.href = `mailto:${email}?subject=${subject}&body=${body}`;
    }
  </script>
</body>
</html>
